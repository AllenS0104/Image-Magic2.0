# 照片魔法AI 桌面版

这是一个由 Google Gemini API 驱动的桌面照片处理工具。用户可以上传一张或多张图片，并一键应用令人惊叹的、堪比 Photoshop 的效果。

该项目使用 React、TypeScript 和 Electron 构建。

## 功能特性

-   **单图编辑**: 应用多种创意滤镜和效果，如复古、电影色调、赛博朋克等。
-   **多图合成**: 支持上传多张图片，并使用 AI 进行智能场景融合或创建艺术拼贴。
-   **历史记录**: 无损编辑流程，支持无限次撤销和重做。
-   **跨平台**: 使用 Electron 打包，可运行在 Windows、macOS 和 Linux 上。

## 项目设置与运行

请确保您的电脑上已经安装了 [Node.js](https://nodejs.org/) (推荐 v18 或更高版本)。

### 1. 克隆项目

首先，将项目代码克隆到您的本地电脑。

```bash
git clone <repository-url>
cd photo-magic-ai-desktop
```

### 2. 安装依赖

在项目根目录下，运行以下命令来安装所有必需的软件包：

```bash
npm install
```

### 3. 设置 API 密钥

为了让应用能够使用 Gemini API，您需要一个 API 密钥。

1.  在项目根目录中，创建一个名为 `.env` 的新文件。
2.  复制 `.env.example` 文件的内容并粘贴到新的 `.env` 文件中。
3.  将 `YOUR_API_KEY_HERE` 替换为您自己的 Google Gemini API 密钥。

`.env` 文件内容应如下所示：

```
API_KEY="AIzaSy...your...actual...api...key"
```

> **重要**: `.env` 文件包含了您的私密密钥，请不要将此文件提交到任何公共代码仓库（项目中已包含的 `.gitignore` 文件会自动忽略它）。

### 4. 运行开发模式

完成以上设置后，您可以使用以下命令在开发模式下启动应用：

```bash
npm start
```

这个命令会首先编译前端代码，然后启动 Electron 应用。您可以看到一个桌面窗口弹出，并加载了我们的应用界面。

## 打包应用 (生成 .exe)

当您准备好将应用分享给他人时，可以将其打包成一个可执行的安装文件。

运行以下打包命令：

```bash
npm run pack
```

这个命令会执行以下操作：
1.  构建最新的前端代码。
2.  使用 `electron-builder` 将整个应用打包。
3.  打包完成后，您会在项目根目录下找到一个新的 `dist` 文件夹。

在 `dist` 文件夹内，您会找到对应您当前操作系统的安装文件：
-   **Windows**: 一个 `.exe` 安装程序。
-   **macOS**: 一个 `.dmg` 文件。
-   **Linux**: 一个 `.AppImage` 文件。

现在，您可以将这个安装文件分享给朋友，或者自己安装使用！
